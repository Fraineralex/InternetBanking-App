@using InternetBanking.Core.Domain.Entities
@using Microsoft.AspNetCore.Http
@using InternetBanking.Core.Application.Dtos.Account
@using InternetBanking.Core.Application.Helpers
@inject IHttpContextAccessor httpContextAccesor
@{
    var user = httpContextAccesor.HttpContext.Session.Get<AuthenticationResponse>("user");
}

<section class="container">
    <div class="row mx-auto">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-bold mt-4 text-center text-primary"><i class='bx bxs-bank text-primary'></i> Internet Banking App</h1>
            <p class="fs-3 fw-bold text-secondary mt-1 text-center">
                Welcome to Internet Banking, here you can manager your products <i class="text-white">🚀</i>
            </p>
        </div>
    </div>
</section>

<div class="row mb-5">
    <h2 class="text-dark fw-bold mt-5 ms-5"><i class='bx bxs-user-account ms-5'></i> ACCOUNTS</h2>
    @if (ViewBag.SavingsAccounts.Count != 0)
    {

        @foreach (Product savingAccount in ViewBag.SavingsAccounts)
        {
            <div class="col-6">
                <div class="col-10 mx-auto card bg-dark text-white mt-3" style="border-radius: 1rem;">
                    <div class="card-body">

                        <h4 class="fw-bold mb-3 text-uppercase mt-2 fs-4"><i class='bx bxs-wallet'></i> Savings Account <i class="text-primary">@savingAccount.AccountNumber</i></h4>
                        <p class="fs-5">US$ @savingAccount.Amount  <i class="text-white-50 fs-5 float-end">Available balance</i></p>

                    </div>
                </div>
            </div>
        }
    }
    else
    {

        <h5 class="fs-4 fw-bold text-secondary mt-1 text-center"><i class='bx bxs-wallet'></i> No savings account yet</h5>
    }

    <br /><br />
    <h2 class="text-dark fw-bold mt-5 ms-5"><i class='bx bxs-credit-card-front ms-5'></i> CREDIT CARDS</h2>
    @if (ViewBag.CreditCards.Count != 0)
    {

        @foreach (Product creditCard in ViewBag.CreditCards)
        {
            <div class="col-6">
                <div class="col-10 mx-auto card bg-dark text-white mt-3" style="border-radius: 1rem;">
                    <div class="card-body">

                        <h4 class="fw-bold mb-3 text-uppercase mt-2 fs-4"><i class='bx bxs-credit-card-alt'></i> MASTERCARD <i class="text-primary">@creditCard.AccountNumber</i></h4>
                        <p class="fs-5">US$ @creditCard.Amount  <i class="text-white-50 fs-5 float-end">Available credit</i></p>
                        <p class="fs-5">US$ @creditCard.Discount  <i class="text-white-50 fs-5 float-end">Pending balance</i></p>

                    </div>
                </div>
            </div>
        }
    }
    else
    {

        <h5 class="fs-4 fw-bold text-secondary mt-1 text-center"><i class='bx bxs-credit-card-front'></i> No credit cards yet</h5>
    }

    <br /><br />
    <h2 class="text-dark fw-bold mt-5 ms-5"><i class='bx bxs-book-bookmark ms-5'></i> LOANS</h2>
    @if (ViewBag.Loans.Count != 0)
    {

        @foreach (Product loan in ViewBag.Loans)
        {
            <div class="col-6">
                <div class="col-10 mx-auto card bg-dark text-white mt-3" style="border-radius: 1rem;">
                    <div class="card-body">

                        <h4 class="fw-bold mb-3 text-uppercase mt-2 fs-4"><i class='bx bx-wallet-alt'></i>Personal <i class="text-primary">@loan.AccountNumber</i></h4>
                        <p class="fs-5">US$ @loan.Amount  <i class="text-white-50 fs-5 float-end">Pending balance</i></p>

                    </div>
                </div>
            </div>
        }
    }
    else
    {

        <h5 class="fs-4 fw-bold text-secondary mt-1 text-center mb-5"><i class='bx bxs-book-bookmark'></i> No loans yet</h5>
    }
</div>
